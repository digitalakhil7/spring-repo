# Producer & Consumer Application using RestTemplate
## Producer Application
### RestController
```java
@RestController
public class ProducerRestController {
	
	@GetMapping("/showA")
	public ResponseEntity<String> showA(){
		return ResponseEntity.ok("from SHOW A METHOD");
	}
	
	@GetMapping("/showB/{id}/{name}")
	public ResponseEntity<String> showA(@PathVariable Integer id,
			@PathVariable String name){
		return ResponseEntity.ok("Created ID: "+id+" with name: "+name);
	}
	
	@GetMapping("/showC")
	public ResponseEntity<Book> showC(){
		return ResponseEntity.ok(new Book(101, "EAT THAT FROG"));
	}
	
	@GetMapping("/showCC")
	public ResponseEntity<List<Book>> showCC(){
		List<Book> books = Arrays.asList(new Book(110, "BOOK1"), new Book(111, "BOOK2"));
		return ResponseEntity.ok(books);
	}
	
	// ---------------- POST METHODS -------------------------------------
	@PostMapping("/showD")
	public ResponseEntity<String> showD(@RequestBody Book b){
		return ResponseEntity.ok("Data given is: "+b);
	}
}

```
### Entity
```java
@Data
@NoArgsConstructor
@AllArgsConstructor
public class Book {
	private Integer bookId;
	private String bookName;
}
```
## Consumer Application
**application.properties -> server.port=9090**
```java
SpringBootApplication
public class Application {

	public static void main(String[] args) {
		SpringApplication.run(Application.class, args);
		
		// SHOW A
		String url1 = "http://localhost:8080/showA";
		
		RestTemplate rt1 = new RestTemplate();
		
		// make http call and get response
		ResponseEntity<String> resp1 = rt1.getForEntity(url1, String.class);
		System.out.println(resp1.getBody());
		System.out.println(resp1.getHeaders());
		System.out.println(resp1.getStatusCode().value());
		
		// SHOW B
		
		String url2 = "http://localhost:8080/showB/{id}/{name}";
		
		RestTemplate rt2 = new RestTemplate();
		ResponseEntity<String> resp2 = rt2.getForEntity(url2, String.class, 13,"RON");
		System.out.println(resp2.getBody());
		
		// SHOW C
		
		String url3 = "http://localhost:8080/showC";
		
		RestTemplate rt3 = new RestTemplate();
		ResponseEntity<String> resp3 = rt3.getForEntity(url3, String.class);
		System.out.println(resp3.getBody());
		
		// SHOW CC
		
		String url33 = "http://localhost:8080/showCC";
		
		RestTemplate rt33 = new RestTemplate();
		ResponseEntity<String> resp33 = rt33.getForEntity(url33, String.class);
		System.out.println(resp33.getBody());
		
		// SHOW D
		
		String url4 = "http://localhost:8080/showD";
		
		RestTemplate rt4 = new RestTemplate();
		
		String body = "{\"bookId\" : 1,\"bookName\" : \"Akhil Book\"}";
		
		HttpHeaders headers = new HttpHeaders();
		headers.setContentType(MediaType.APPLICATION_JSON);
		
		// Body + Headers
		HttpEntity<String> he = new HttpEntity<>(body,headers);
		
		ResponseEntity<String> resp4 = rt4.postForEntity(url4, he, String.class);
		System.out.println(resp4.getBody());
	}

}

```
